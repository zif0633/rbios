# 从简单的数和算术运算开始
> 在这里，我已经假设你成功安装了稳定版的ruby环境，如果没有，请务必先行在各个搜索引擎中查询如何安装ruby(不推荐使用win版的ruby)。irb是ruby的REPL，即一种交互式编程体验工具，对irb输入表达式则irb即刻返回运算结果。只需打开终端，输入“irb”命令即可。如果您使用 Windows，打开 开始菜单 -> Ruby -> fxri(再次建议不要使用windows做非ms族开发)

>*另外，在以下文中，#符号之后的内容代表注释，=>符号组之后的内容代表运算结果。*

如
> :~$ irb        #终端中输入irb  
> irb(main):001:0>  #出现这一行，即成功启动irb 

###基本的运算表达

在计算机诞生的初期,人们将其想象为处理数值的机器,实际上,计算机也善于数值处理。既然小学一年级老师最先讲的是数的运算,本教程也自此开始。一旦了解计算机如何进行数值计算,只要将常识转换为程序语言记法,我们就可以开发简单的计算机程序了。尽管如此,编写简单的程序也是需要原则的,因此本章的最后将介绍最基本的程序设计指导。

数有多种形式，常见的比如
> 5 #正数  
> -5 #负数   
> 2/5 #分数（有理数）  
> 11.3453453234 #实数  

如同使用最简单的计算器功能，你可以在irb中输入运算表达式
> irb(main):001:0> 6 + 5  
> => 11  
> irb(main):002:0> -5 + 5  
> =>  0   
> irb(main):003:0> 5 + (-5)    
> => 0  
> irb(main):004:0> 1 * 2  
> => 2  
> irb(main):005:0> 4 / 2  
> => 2  

当然，与我们在上学时使用的算术表达式一样，ruby也支持嵌套运算
>irb(main):005:0> (2 + 2) * (((3 + 5) * (30 / 10)) / 2)  
> => 48

连运算法则也与小学时学到的一模一样，有括号先算括号，没有括号从左往右先乘除后加减，十分简单。

除了基本的四则运算以外，ruby当然支持由此衍生出的各种高级运算。(*遇见不懂的地方，只需要照着样子向irb中输入一遍并看一眼结果即可，不需要深究*)
> irb(main):006:0> Math.sqrt(9) #开平方运算   
> => 3.0  
> irb(main):007:0> 5 \*\* 2 #乘方运算  
> => 25  
> irb(main):008:0> 5 \*\* 3  
> => 125  
> irb(main):009:0> Math.log(12)  #计算12的自然对数  
> => 2.4849066497880004  
> irb(main):010:0> Math.sin(5)  #计算5的正弦  
> => -0.9589242746631385  

现在，你不妨使用上面已经说过的几个函数，比如Math.log,Math.sqrt等做些自己设想出来的表达式，看看irb输出的结果和预想中的结果是否一致。（*在大部分编程语言中，数往往被区分为整数与小数即浮点数，比如3和3.0并不完全是一回事*）

###变量和函数

在小学的方程中,可以用含x,r的表达式阐明两个数量之间的关系。所谓**变量**就是一个未知数的占位符,也就是方程中的x或者y，或者其他的字母。例如,一个半径为 r 的圆的面积公式可以被近似的表达为
> 3.14 * r * r #读作三点一四R平方，此处不方便像手写那般表达

让我们通过ruby使用先前提到过的乘方运算来再次表达这个式子
> 3.14 * r *\* 2

但r究竟是多少呢？可以是任意值。假设我们要计算一个半径为5的圆的面积
既可以这样算
> irb(main):011:0> 3.14 * 5 *\* 2  
> => 78.5  

也可以先把5存到变量r里
> irb(main):012:0> r = 5  
> => 5  
> irb(main):013:0> 3.14 * r ** 2  
> => 78.5  

当然也可以把面积公式变成一个函数表达，在高中的时候，我们可以把这个函数表达式写作
> f(r) = 3.14 * r * r #即小学的y = 3.14 * x * x,x和r是自变量半径，f(r)和y是因变量面积，自变量有固定值则因变量有对应的固定值

而在ruby中，我们可以对irb这样输入
> irb(main):019:0> def area(r); 3.14 * r ** 2 end  
> => nil

先前表达式中的area就是我们计算面积的函数，我们把5代入这个函数
> irb(main):020:0> area(5)  
> => 78.5

我们来详细说说函数的定义，*"def area(r); 3.14 * r ** 2 end"* 这个表达式的意思是定义一个叫做area的函数，它接收一个参数，并在函数内部将这个参数赋值给变量r，返回3.14*r平方。

通用的形式是 *"def 函数名 （函数参数）; 函数体 end"* 。def意味着函数定义的开始，end则意味着结束，至于";"，它是用来分割语句用的，当本该写作多行的表达式全部写在一行时，需要使用";"来分割。

之前area函数不使用";"时，则是这种形式
> def area(r)  
>  3.14 * r ** 2  
> end

体积变大了很多不是么？在ruby中，换行在某些情况下是强制的，所以当这些必须换行的语句写在一起时，必须使用";"分开。对于那种函数体只有一个表达式的函数，写在一行当然是很好的方案，但是对于函数体复杂的函数，仍然必须采用多行结构的。

再来定义几个函数，看看你是否能理解他们的意思
> irb(main):021:0> def perimeter(r); 3.14 * r * 2 end  
> => nil  
> irb(main):024:0> def area_rectangle(w, h); w * h end  
> => nil  

第一个函数接收一个参数r，计算出以此r为半径的圆的周长。第二个函数则接收两个参数，并计算以这两个参数为长宽的矩形的面积。

--------

####习题1.1
定义一个函数to_CNY，它接收一个参数作为美元数值，并将此参数换算为等额的人民币数值返回。汇率请自行查询。